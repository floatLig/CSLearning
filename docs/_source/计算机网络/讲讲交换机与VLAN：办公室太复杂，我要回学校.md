在宿舍，因为电脑数目很少，可以只有一台交换机。这次，我们换到一个稍微复杂一点的场景，办公室。

办公室有着负责的拓扑结构：一间办公室有十多个网口，一层楼有几十个甚至上百个网口。这需要用到多个交换机。

#### 两台交换机

我们先来看两台交换机的情形。

![两台交换机.jpg](../../_img/两台交换机.jpg)

两台交换机连接着三个局域网，每个局域网都有多台机器。如果机器1知道机器4的IP地址，通过ARP想获取机器4的MAC地址，会怎么做呢？

1. 机器1发起广播，机器2收到广播后，但这个ARP不是找机器2的，所以机器2不搭理这个它。
2. 交换机A一开始是不知道任何拓扑信息的，交换机A收到广播后，采取的策略是：除了广播包来的方向外，转发给其他的网口。
3. 于是机器3也收到了广播信息，但是这也和机器3没有关系。
4. 当然交换机B也是不知道拓扑信息的，因而也要进行广播的策略，将包转发到局域网三。这个时候，机器4和机器5都收到了广播信息。
5. 机器4主动响应说，这是找我的，这是我的MAC地址。于是一个ARP请求就完成了。
