- HTTPä¸ºäº’è”ç½‘è§„èŒƒï¼Œéµå®ˆè¿™ä¸ªåè®®ï¼Œclientå’Œserveræ‰èƒ½æ­£å¸¸é€šä¿¡
- tomcatæ˜¯æœåŠ¡å™¨ï¼›æ˜¯ä¸€ä¸ªé•¿æœŸè¿è¡Œçš„ï¼Œèƒ½å¯¹è¯·æ±‚åšå‡ºå“åº”çš„åº”ç”¨ç¨‹åº
- servletæ˜¯æœåŠ¡å™¨å’Œå¼€å‘äººå‘˜çš„è§„èŒƒï¼Œå¼€å‘äººå‘˜åªæœ‰éµå®ˆservletçš„è§„èŒƒï¼Œå†™å‡ºçš„ç¨‹åºæ‰èƒ½åœ¨tomcatä¸Šè¿è¡Œã€‚

## 1. HTTPåè®®

### 1.1 request--æ ¼å¼

#### è¯·æ±‚æŠ¥æ–‡æ ¼å¼

![httpæŠ¥æ–‡ç»“æ„.jpg](../../_img/httpæŠ¥æ–‡ç»“æ„.jpg)

- è¯·æ±‚è¡Œï¼šè¯·æ±‚æ–¹æ³•ï¼ˆpostã€getï¼‰+ URL + ç‰ˆæœ¬ï¼ˆHTTP1.0/HTTP1.1ï¼‰
- é¦–éƒ¨è¡Œï¼šä¸€èˆ¬ç”¨æ¥è¯´æ˜å®¢æˆ·ç«¯éœ€è¦ä½¿ç”¨çš„ä¸€äº›é™„åŠ ä¿¡æ¯ã€‚æ˜¯é”®å€¼å¯¹
- ç©ºè¡Œï¼šä½äºé¦–éƒ¨è¡Œå’Œå®ä½“ä¸»ä½“ä¹‹é—´ï¼Œ`ç©ºè¡Œæ˜¯å¿…é¡»çš„`
- å®ä½“ä¸»ä½“ï¼šPOSTä½¿ç”¨ï¼ŒGetä¸ç”¨

![get.jpg](../../_img/get.jpg)

![post.jpg](../../_img/post.jpg)

#### HTTPåè®®çš„è¯·æ±‚æ–¹å¼

HTTP1.0å®šä¹‰äº†ä¸‰ç§è¯·æ±‚æ–¹å¼ï¼š`getã€post`ã€headæ–¹æ³•

HTTP1.1å®šä¹‰äº†å…«ç§è¯·æ±‚æ–¹æ³•ï¼š`getã€post`ã€headã€optionsã€putã€deleteã€traceå’Œconnectæ–¹æ³•

![æ–¹æ³•è¯¦è§£.jpg](../../_img/æ–¹æ³•è¯¦è§£.jpg)

**getå’Œpostè¯·æ±‚æ–¹å¼çš„åŒºåˆ«ï¼š**

- get: è¯·æ±‚æ•°æ®ä¼š`ä»¥ï¼Ÿçš„å½¢å¼`éš”å¼€æ‹¼æ¥åœ¨è¯·æ±‚å¤´ä¸­ï¼Œ`ä¸å®‰å…¨`ï¼Œ`æ²¡æœ‰è¯·æ±‚å®ä½“éƒ¨åˆ†`ã€‚å› ä¸ºæµè§ˆå™¨å¯¹URLçš„é•¿åº¦æ˜¯æœ‰é™åˆ¶çš„ï¼Œæ‰€ä»¥get è¯·æ±‚ä¸èƒ½æºå¸¦å¤§é‡çš„æ•°æ®
- post: è¯·æ±‚æ•°æ®`åœ¨è¯·æ±‚å®ä½“`ä¸­è¿›è¡Œå‘é€ï¼Œåœ¨URLä¸­çœ‹ä¸åˆ°å…·ä½“çš„è¯·æ±‚æ•°æ®ï¼Œ`å®‰å…¨`ã€å› æ­¤å¯†ç ä¼šç”¨postã€‘ã€‚é€‚åˆæ•°æ®é‡å¤§çš„æ•°æ®å‘é€

### 1.2 response--æ ¼å¼

#### å“åº”æŠ¥æ–‡æ ¼å¼

![httpæŠ¥æ–‡ç»“æ„.jpg](../../_img/httpæŠ¥æ–‡ç»“æ„.jpg)

- çŠ¶æ€è¡Œï¼šHTTPç‰ˆæœ¬ã€çŠ¶æ€ç ï¼ˆ200ã€404ã€500ï¼‰ã€çŸ­è¯­ï¼ˆOKç­‰ï¼‰
- é¦–éƒ¨è¡Œï¼šæ¶ˆæ¯æŠ¥å¤´ã€å®¢æˆ·ç«¯ä½¿ç”¨çš„é™„åŠ ä¿¡æ¯
- ç©ºè¡Œï¼šå“åº”å¤´å’Œå“åº”å®ä½“ä¹‹é—´ï¼Œ`æ˜¯å¿…é¡»çš„`
- å“åº”å®ä½“ï¼šæ­£æ–‡ï¼Œ`æœåŠ¡å™¨è¿”å›ç»™æµè§ˆå™¨çš„ä¿¡æ¯`

![å“åº”æŠ¥æ–‡.jpg](../../_img/å“åº”æŠ¥æ–‡.jpg)

#### å“åº”çŠ¶æ€ç 

HTTP çŠ¶æ€ç ç”±ä¸‰ä¸ªåè¿›åˆ¶æ•°å­—ç»„æˆï¼Œ`ç¬¬ä¸€ä¸ªåè¿›åˆ¶æ•°å­—å®šä¹‰äº†çŠ¶æ€ç çš„ç±»å‹`

| åˆ†ç±»  |                    åˆ†ç±»æè¿°                    |
| :---: | :--------------------------------------------: |
|  1**  | ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œ`éœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ` |
|  2**  |          `æˆåŠŸ`ï¼Œæ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç†          |
|  3**  |      `é‡å®šå‘`ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚      |
|  4**  |     `å®¢æˆ·ç«¯é”™è¯¯`ï¼Œè¯·æ±‚é”™è¯¯æˆ–è€…æ— æ³•å®Œæˆè¯·æ±‚     |
|  5**  | `æœåŠ¡å™¨é”™è¯¯`ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹å‘ç”Ÿäº†é”™è¯¯ |

| çŠ¶æ€ç  |         çŸ­è¯­          |                              æè¿°                              |
| :----: | :-------------------: | :------------------------------------------------------------: |
|  200   |          OK           |                         å®¢æˆ·ç«¯è¯·æ±‚æˆåŠŸ                         |
|  400   |      Bad Request      |            å®¢æˆ·ç«¯è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯ï¼Œä¸èƒ½è¢«æœåŠ¡å™¨æ‰€ç†è§£            |
|  401   |     Unauthorized      | è¯·æ±‚æœªç»æˆæƒï¼Œè¿™ä¸ªçŠ¶æ€ä»£ç å¿…é¡»å’ŒWWW-AuthenticateæŠ¥å¤´åŸŸä¸€èµ·ä½¿ç”¨ |
|  403   |       Forbidden       |                æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æä¾›æœåŠ¡                |
|  404   |       Not Found       |               è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨ï¼Œæ¯”å¦‚`è¯·æ±‚å†™é”™äº†`               |
|  500   | Internal Server Error |                    æœåŠ¡å™¨å‘é€ä¸å¯é¢„æœŸçš„é”™è¯¯                    |
|  503   |  Server Unavailable   |     æœåŠ¡å™¨å½“å‰ä¸èƒ½å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä¸€æ®µæ—¶å€™åå¯èƒ½æ¢å¤æ­£å¸¸     |

## 2. Tomcat

ä»€ä¹ˆå«æœåŠ¡å™¨ï¼Ÿ

ç®€å•æ¥è¯´ï¼šå°±æ˜¯`ä¸€ä¸ªé•¿æœŸè¿è¡Œï¼Œæ ¹æ®è¯·æ±‚ç»™å‡ºå“åº”çš„ç¨‹åº`ã€‚

å…·ä½“æ¥è¯´ï¼ŒæœåŠ¡å™¨å…¶å®å°±æ˜¯ä»£ç ç¼–å†™çš„ä¸€ä¸ªå¯ä»¥æ ¹æ®ç”¨æˆ·è¯·æ±‚å®æ—¶çš„è°ƒç”¨æ‰§è¡Œå¯¹åº”çš„é€»è¾‘ä»£ç `çš„ä¸€ä¸ªå®¹å™¨`ã€‚åœ¨æ™®é€šç”¨æˆ·çœ‹æ¥å°±æ˜¯ä¸€ä¸ªå®‰è£…ç¨‹åºã€‚æˆ‘ä»¬åªéœ€è¦å°†æœåŠ¡å™¨`åœ¨æ“ä½œç³»ç»Ÿä¸Šè¿›è¡Œå®‰è£…`ï¼Œå¹¶å°†æˆ‘ä»¬äº‹å…ˆç¼–å†™å¥½çš„é€»è¾‘å¤„ç†ä»£ç æ ¹æ®è§„åˆ™æ”¾åˆ°æœåŠ¡å™¨çš„æŒ‡å®šä½ç½®ï¼Œå¯åŠ¨æœåŠ¡å™¨ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±è‡ªåŠ¨çš„ä¼šæ ¹æ®æ¥æ”¶åˆ°è¯·æ±‚è°ƒç”¨,å¹¶æ‰§è¡Œå¯¹è±¡çš„é€»è¾‘ä»£ç è¿›è¡Œå¤„ç†ã€‚

### 2.1 tomcatçš„ä¸‹è½½å’Œå®‰è£…

ä¸‹è½½åœ°å€ä¸ºï¼š<https://tomcat.apache.org/download-70.cgi>

![tomcatDownload.jpg](../../_img/tomcatDownload.jpg)

**å®‰è£…ï¼š**

ä¸‹è½½æˆåŠŸåä¼šä¸ºå‹ç¼©åŒ…æ–‡ä»¶ï¼Œè§£å‹å³å¯ä½¿ç”¨ã€‚æ³¨æ„ï¼šå°½é‡`ä¸è¦è§£å‹åœ¨ä¸­æ–‡ç›®å½•`ä¸­

**ç›®å½•ç»“æ„æ„æˆï¼š**

![tomcatæ–‡ä»¶å¤¹.jpg](../../_img/tomcatæ–‡ä»¶å¤¹.jpg)

**æ£€éªŒå®‰è£…ï¼š**

æ‰“å¼€bin ç›®å½•ï¼Œç„¶ååŒå‡»æ‰§è¡Œ`startup.bat` æ–‡ä»¶ã€`Linuxä¸‹ä¸ºstartup.sh`ã€‘ï¼Œæ‰“å¼€æµè§ˆå™¨åœ¨åœ°å€æ ä¸­è¾“å…¥localhostï¼š8080/ å¦‚æœå‡ºç°tomcat å¹¿å‘Šé¡µå®‰è£…æˆåŠŸ.

**é—®é¢˜åŠå…¶è§£å†³ï¼š**

1. tomcatçš„è¿è¡Œç¯å¢ƒä¾èµ–JDKï¼Œå¿…é¡»å…ˆé…ç½®jdkç¯å¢ƒã€‚ã€ä¸€èˆ¬æ¥è®²`ç‰ˆæœ¬`æ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†æ˜¯ï¼Œå¦‚æœjdkå’Œtomcatéƒ½é…ç½®å¥½äº†ï¼Œä»ç„¶ä¼šå‡ºç°é”™è¯¯çš„è¯ï¼Œè¦æ³¨æ„ä¸€ä¸‹jdkå’Œtomcatçš„ç‰ˆæœ¬å¯¹åº”å…³ç³»ã€‘
2. é—ªé€€ï¼Œé—ªé€€ï¼Œå¯åŠ¨é—ªé€€é—®é¢˜ä¸€èˆ¬æ˜¯å› ä¸ºJDK çš„ç¯å¢ƒå˜é‡é…ç½®æœ‰é—®é¢˜ï¼Œå‚ç…§1 è¿›è¡Œé‡æ–°è¿›è¡Œé…ç½®ï¼Œå¦‚æœè¿˜æ˜¯é—ªé€€ï¼Œä½¿ç”¨ï¼šåœ¨bin\startup.bat æ–‡ä»¶ä¸­çš„ç¬¬ä¸€è¡Œå‰é¢åŠ å…¥ã€å¯ä»¥å³é”®vs codeæ‰“å¼€ã€‘ï¼š  
`SET JAVA_HOME=JDK ç›®å½•`  
`SET CATALINA_HOME=è§£å‹åTomcat çš„ç›®å½•`  
è¿™æ ·ï¼Œè¿è¡Œstartup.bat å°±å¯ä»¥æ­£å¸¸å¯åŠ¨tomcat æœåŠ¡å™¨ï¼Œå¦‚æœæƒ³ç‚¹å‡»shutdown.bat å…³é—­æœåŠ¡å™¨ï¼ŒåŒæ ·åœ¨shutdown.bat æ–‡ä»¶ä¸­åŠ å…¥ä¸Šé¢çš„ä¸¤è¡Œå³å¯
3. å¦‚æœç«¯å£å·è¢«å ç”¨ï¼Œå¯ä»¥æ€æ‰å ç”¨ç«¯å£å·çš„è¿›ç¨‹ï¼ˆæ¯”å¦‚é‡å¯ç”µè„‘ï¼‰ï¼Œæˆ–è€…`åœ¨server.xmlä¸­â€œCtrl+ F 8080â€`

### 3.2 tomcatçš„é›†æˆ

tomcatçš„åº•å±‚åŸç†ä¸ºï¼šæˆ‘ä»¬ä»£ç ç¼–å†™å®Œæ¯•åï¼Œæ‰‹åŠ¨å°†ä»£ç æ”¾åˆ°tomcatä¸Šï¼Œç„¶åè¿è¡Œtomcatï¼Œå°±èƒ½è¿è¡Œè¯¥æœåŠ¡å™¨ã€‚

ä½†æ˜¯æ¯æ¬¡éƒ½æ‰‹åŠ¨æ”¾ç¼–å†™å®Œçš„ä»£ç åˆ°tomcatå¾ˆéº»çƒ¦å•Šï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ

åœ¨IDEä¸Šé›†æˆtomcatï¼Œè¿™æ ·å­ï¼Œæˆ‘ä»¬åœ¨IDEç¼–å†™ä»£ç åï¼Œæ‘ä¸‹ä¿å­˜ï¼ŒIDEè‡ªåŠ¨å¸®æˆ‘ä»¬å°†ä»£ç é›†æˆåˆ°tomcatä¸Šï¼Œè¿™æ ·å­ï¼Œå°±å¾ˆçœäº‹äº†ã€‚

[ideaéƒ¨ç½²tomcat](https://blog.csdn.net/HughGilbert/article/details/56424137)

## 3. servlet

### 3.1 servletæœ‰ä»€ä¹ˆç”¨

servletæ˜¯`ç¨‹åºå‘˜å’ŒæœåŠ¡å™¨`ä¹‹é—´çš„æ¡¥æ¢ã€‚`æœåŠ¡å™¨çŸ¥é“servletï¼Œç¨‹åºå‘˜è°ƒç”¨servlet`ã€‚è¿™æ ·å­å°±èƒ½ä½¿æœåŠ¡å™¨è°ƒç”¨ç¨‹åºå‘˜å†™çš„ä»£ç å•¦ã€‚

æ›´å…·ä½“æ¥è®²å‘¢ï¼Œè¿‡ç¨‹æ˜¯è¿™æ ·å­çš„ï¼š

ğŸ˜„tomcatæœåŠ¡å™¨è¿è¡Œï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœæœ‰è¯·æ±‚è¿‡æ¥ï¼Œé‚£ä¹ˆæœåŠ¡å™¨ä¼šæŸ¥è¯¢xmlæ–‡ä»¶ï¼Œæ‰¾åˆ°å¯¹åº”çš„classæ–‡ä»¶ã€‚æ ¹æ®è¯·æ±‚çš„post/getï¼Œè°ƒç”¨classæ–‡ä»¶çš„service()æˆ–è€…doPost()/doGet()æ–¹æ³•ã€‚

ğŸ˜„è€Œç¨‹åºå‘˜åˆ™è¦†å†™service()/doPost()/doGet()æ–¹æ³•ï¼Œå°±èƒ½å¤Ÿå®ç°ç¨‹åºå‘˜å†™çš„ä»£ç åœ¨æœåŠ¡å™¨è¿è¡Œï¼Œå¹¶ä¸”èƒ½å¤Ÿæ ¹æ®è¯·æ±‚åšå‡ºååº”ã€‚ã€servletç”Ÿå‘½å‘¨æœŸåˆ™çœ‹â€œæ˜¯å¦è°ƒå…¥å†…å­˜â€æˆ–â€œæ˜¯å¦ä»å†…å­˜ç§»é™¤â€ã€‘

**ç†è®ºè¯´æ³•ï¼š**

Servlet çš„å®ç°éµå¾ªäº†æœåŠ¡å™¨èƒ½å¤Ÿè¯†åˆ«çš„è§„åˆ™ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡å™¨ä¼šè‡ªåŠ¨çš„æ ¹æ®è¯·æ±‚è°ƒç”¨å¯¹åº”çš„servlet è¿›è¡Œè¯·æ±‚å¤„ç†ã€‚servletç®€å•æ–¹ä¾¿ï¼Œå¯ç§»æ¤æ€§å¼ºã€‚

### 3.2 servletdçš„ä½¿ç”¨

**ä»£ç ç¼–å†™ï¼š**

1. åˆ›å»ºæ™®é€šçš„java ç±»å¹¶ç»§æ‰¿HttpServlet
2. è¦†å†™service æ–¹æ³•
3. åœ¨service æ–¹æ³•ä¸­ä¹¦å†™é€»è¾‘ä»£ç å³å¯
4. åœ¨webRoot ä¸‹çš„WEB-INF æ–‡ä»¶å¤¹ä¸‹çš„web.xmlæ–‡ä»¶ä¸­é…ç½®servlet

**urlè®¿é—®ï¼š**

ç”¨URLè®¿é—®ï¼šå¦‚è¿™ä¸ªurl <http://localhost:8080/project/my>

è§£æè¿™ä¸ªURLåœ°å€ï¼š`IPåœ°å€:ç«¯å£å·/webappsç›®å½•ä¸‹çš„projectæ–‡ä»¶/åœ¨web.xmlä¸­æ‰¾åˆ°è¯·æ±‚myã€url-patternã€‘,å¹¶è°ƒç”¨è°ƒç”¨ç›¸åº”çš„servletæ‰§è¡Œ`

**doGet()ã€doPost()ã€service():**

Service æ–¹æ³•:  
ä¸ç®¡æ˜¯get æ–¹å¼è¿˜æ˜¯post æ–¹å¼çš„è¯·æ±‚ï¼Œå¦‚æœServlet ç±»ä¸­æœ‰service æ–¹æ³•ï¼Œåˆ™ä¼˜å…ˆè°ƒç”¨Service æ–¹æ³•ã€‚

doGet æ–¹æ³•:  
åœ¨æ²¡æœ‰service æ–¹æ³•çš„æƒ…å†µä¸‹å¦‚æœæ˜¯get æ–¹å¼çš„è¯·æ±‚æ‰€è°ƒç”¨çš„å¤„ç†è¯·æ±‚çš„æ–¹æ³•

doPost æ–¹æ³•:  
åœ¨æ²¡æœ‰service æ–¹æ³•çš„æƒ…å†µä¸‹å¦‚æœæ˜¯post æ–¹å¼çš„è¯·æ±‚æ‰€è°ƒç”¨çš„å¤„ç†è¯·æ±‚çš„æ–¹æ³•

æ³¨æ„ï¼š  
å¦‚æœåœ¨è¦†å†™serviceæ–¹æ³•ä¸­è°ƒç”¨äº†çˆ¶ç±»çš„serviceæ–¹æ³•(super.service(arg0,arg1)),åˆ™serviceæ–¹æ³•å¤„ç†å®Œåï¼Œä¼š`å†æ¬¡`æ ¹æ®è¯·æ±‚æ–¹å¼å“åº”çš„doGetå’ŒdoPostæ–¹æ³•æ‰§è¡Œã€‚ã€æ¯”å¦‚è°ƒç”¨ä¸¤æ¬¡get/postã€‘.æ‰€ä»¥ï¼Œ`ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬æ˜¯ä¸åœ¨è¦†å†™çš„serviceä¸­è°ƒç”¨çˆ¶ç±»çš„serviceæ–¹æ³•çš„`ã€‚

### 3.3 servletdçš„ä»£ç 

?> æ³¨æ„ï¼šHttpServletç±»æ˜¯tomcatçš„javax.servletçš„jaråŒ…ä¸‹çš„ç±»ï¼Œå¦‚æœä½ å†™ç¨‹åºéœ€è¦ç”¨åˆ°è¿™ä¸ªç±»ï¼Œä½ å¯ä»¥å¯¼å…¥:<https://blog.csdn.net/HuachengGJ/article/details/79403636>

è¦†å†™MyServletç±»ä¸­çš„service():

```java
public class MyServlet extends HttpServlet{
    @Override
    protected void service(HttpServletRequest req,HttpServletResponse resp)
        throws ServletException, IOException {
            resp.getWriter().write("this is my first servlet.");
            System.out.println("this is my first servlet.");
    }
}
```

åœ¨web-INFä¸‹æ‰¾åˆ°web.xmlæ–‡ä»¶å¹¶é…ç½®ï¼š

```xml
<!--é…ç½®servlet-->
    <!--é…ç½®servletç±»çš„è·¯å¾„-->
    <servlet>
        <servlet-name>my</servlet-name>
        <servlet-class>com.sxt.servlet.MyServlet</servlet-class>
    </servlet>
    <!--é…ç½®è®¿é—®æ–¹å¼-->
    <servlet-mapping>
        <servlet-name>my</servlet-name>
        <url-pattern>/my</url-pattern>
    </servlet-mapping>
```

è¿™é‡Œæ˜¯é€šè¿‡åå°„åˆ›å»ºå¯¹è±¡.

å®é™…ä¸ŠæœåŠ¡å™¨åªéœ€è¦æ‰¾åˆ°com.servlet.MyServletåœ¨å“ªé‡Œ,æ‰¾åˆ°è¯¥ç±»ååˆ›å»ºå¯¹è±¡åå°±èƒ½å¤Ÿå¯¹è¯·æ±‚åšå‡ºå“åº”äº†ã€‚é‚£ä¸ºä»€ä¹ˆè¯·æ±‚éœ€è¦å†™`url-pattern`è€Œä¸æ˜¯ç›´æ¥`com.servlet.MyServlet`å‘¢ï¼Œä¸ºäº†`å®‰å…¨`ï¼åˆ«äººåªèƒ½çŸ¥é“url-pattern,è€Œä¸çŸ¥é“æˆ‘å†…éƒ¨çš„servlet-classæ˜¯æ€ä¹ˆæ ·çš„

å¦‚æœåå°„åˆ›å»ºä¸äº†å¯¹è±¡ï¼Œåˆ™ä¼šæŠ¥class not foundé”™è¯¯ã€‚

### 3.4 æ³¨æ„

IDEA æ˜¯å¼€å‘å·¥å…·ï¼Œé€šè¿‡æ­¤å·¥å…·ä¾¿`äºç¨‹åºå‘˜çš„ä»£ç ç¼–å†™`ã€‚`çœŸæ­£è¿è¡Œçš„ä»£ç `ä¸æ˜¯IDEA ä¸­ç¼–å†™çš„ä»£ç ï¼Œ`è€Œæ˜¯tomcat æœåŠ¡å™¨ä¸­éƒ¨ç½²å¥½çš„ä»£ç `ã€‚tomcat ä¼šæ ¹æ®è¯·æ±‚è‡ªåŠ¨è°ƒç”¨å¯¹åº”çš„ä»£ç è¿›è¡Œè¯·æ±‚å¤„ç†ã€‚

ä½†æ˜¯ï¼Œè¿™æ ·å­å¯¹äºç¨‹åºå‘˜å¾ˆä¸æ–¹ä¾¿ï¼Œå¦‚æœæ¯æ¬¡éƒ½è¦å°†ç¨‹åºéƒ¨ç½²åˆ°tomcatä¸Šçš„è¯ã€‚

### 3.5 servletçš„ç”Ÿå‘½å‘¨æœŸ

ä»æ“ä½œç³»ç»Ÿâ€œç¨‹åºè¿è¡Œéƒ½è¦è£…è½½è¿›å†…å­˜â€çš„è§’åº¦ç†è§£ã€‚

**Servletçš„ç”Ÿå‘½å‘¨æœŸï¼š**

1. ä»`ç¬¬ä¸€æ¬¡è°ƒç”¨`åˆ°`æœåŠ¡å™¨å…³é—­`ã€‚
2. å¦‚æœServletåœ¨web.xmlä¸­é…ç½®äº†load-on-startupï¼Œç”Ÿå‘½å‘¨æœŸä¸º
ä»`æœåŠ¡å™¨å¯åŠ¨`åˆ°`æœåŠ¡å™¨å…³é—­`

**æ³¨æ„ï¼š**

`init`æ–¹æ³•æ˜¯å¯¹Servletè¿›è¡Œåˆå§‹åŒ–çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä¼šåœ¨Servlet `ç¬¬ä¸€æ¬¡åŠ è½½è¿›è¡Œå­˜å‚¨æ—¶`æ‰§è¡Œã€‚`destory`æ–¹æ³•æ˜¯åœ¨servletè¢«é”€æ¯æ—¶æ‰§è¡Œï¼Œä¹Ÿå°±æœåŠ¡å™¨å…³é—­æ—¶ã€‚

```java
package com.bjsxt.servlet;
import java.io.IOException;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

/**
* Servletçš„ç”Ÿå‘½å‘¨æœŸï¼š
* 1ã€ä»ç¬¬ä¸€æ¬¡è°ƒç”¨åˆ°æœåŠ¡å™¨å…³é—­ã€‚
* 2ã€å¦‚æœServletåœ¨web.xmlä¸­é…ç½®äº†load-on-startupï¼Œç”Ÿå‘½å‘¨æœŸä¸º
ä»æœåŠ¡å™¨å¯åŠ¨åˆ°æœåŠ¡å™¨å…³é—­
* æ³¨æ„ï¼š
* initæ–¹æ³•æ˜¯å¯¹Servletè¿›è¡Œåˆå§‹åŒ–çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä¼šåœ¨Servletç¬¬ä¸€æ¬¡
åŠ è½½è¿›è¡Œå­˜å‚¨æ—¶æ‰§è¡Œ
* destoryæ–¹æ³•æ˜¯åœ¨servletè¢«é”€æ¯æ—¶æ‰§è¡Œï¼Œä¹Ÿå°±æœåŠ¡å™¨å…³é—­æ—¶ã€‚
**/

public class ServletLife extends HttpServlet {
    //åˆå§‹åŒ–æ–¹æ³•ï¼Œåœ¨servletç¬¬ä¸€æ¬¡åŠ è½½å†…å®¹çš„æ—¶å€™è¢«è°ƒç”¨
    @Override
    public void init() throws ServletException {
        System.out.println("servletåˆå§‹åŒ–å®Œæˆ");
    }
    //serviceæ–¹æ³•ï¼ŒçœŸæ­£å¤„ç†è¯·æ±‚çš„æ–¹æ³•
    @Override
    protected void service(HttpServletRequest req,HttpServletResponse resp)
        throws ServletException, IOException {
            resp.getWriter().write("servlet life")
            System.out.println("servlet life");
    }
    @Override
    public void destroy() {
        System.out.println("æˆ‘è¢«é”€æ¯äº†...");
    }
}
```

```xml
<servlet>
        <servlet-name>life</servlet-name>
        <servlet-class>com.sxt.servlet.ServletLife</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>life</servlet-name>
        <url-pattern>/life</url-pattern>
    </servlet-mapping>
```

### 3.6 servletå¸¸è§é”™è¯¯æ€»ç»“

- **404é”™è¯¯:**

èµ„æºæœªæ‰¾åˆ°  

åŸå› ä¸€ï¼šåœ¨è¯·æ±‚åœ°å€ä¸­çš„servletçš„åˆ«åä¹¦å†™é”™è¯¯ã€‚  
åŸå› äºŒï¼šè™šæ‹Ÿé¡¹ç›®åç§°æ‹¼å†™é”™è¯¯  

- **500é”™è¯¯ï¼š**

å†…éƒ¨æœåŠ¡å™¨é”™è¯¯

é”™è¯¯ä¸€ï¼š  
java.lang.ClassNotFoundException: com.bjsxt.servlet.ServletMothod  
è§£å†³ï¼š  
åœ¨web.xmlä¸­æ ¡éªŒservletç±»çš„å…¨é™å®šè·¯å¾„æ˜¯å¦æ‹¼å†™é”™è¯¯ã€‚  

é”™è¯¯äºŒï¼š  
å› ä¸ºserviceæ–¹æ³•ä½“çš„ä»£ç æ‰§è¡Œé”™è¯¯å¯¼è‡´  
è§£å†³ï¼š  
æ ¹æ®é”™è¯¯æç¤ºå¯¹serviceæ–¹æ³•ä½“ä¸­çš„ä»£ç è¿›è¡Œé”™è¯¯æ›´æ”¹ã€‚

- **405é”™è¯¯:**

è¯·æ±‚æ–¹å¼ä¸æ”¯æŒ

åŸå› ï¼š  
è¯·æ±‚æ–¹å¼å’Œservletä¸­çš„æ–¹æ³•ä¸åŒ¹é…æ‰€é€ æˆçš„ã€‚  
è§£å†³ï¼š  
å°½é‡ä½¿ç”¨service æ–¹æ³•è¿›è¡Œè¯·æ±‚å¤„ç†ï¼Œå¹¶ä¸”ä¸è¦å†service æ–¹æ³•ä¸­è°ƒç”¨çˆ¶ç±»çš„service

### 3.7 Requestå¯¹è±¡

æµè§ˆå™¨å‘èµ·è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œä¼šéµå¾ªHTTPåè®®å°†è¯·æ±‚æ•°æ®å‘é€ç»™æœåŠ¡å™¨ã€‚æœåŠ¡å™¨æ€ä¹ˆå­˜å‚¨æ”¶åˆ°çš„è¯·æ±‚å‘¢ï¼Ÿ

æœåŠ¡å™¨æ¯æ¥å—ä¸€ä¸ªè¯·æ±‚ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ª**Requestå¯¹è±¡**æ¥å­˜å‚¨æ”¶åˆ°çš„è¯·æ±‚æ•°æ®ã€‚`æœåŠ¡å™¨åœ¨è°ƒåŠ¨servletæ—¶ä¼šå°†åˆ›å»ºçš„requestå¯¹è±¡ä½œä¸ºå®å‚ä¼ é€’ç»™servletçš„æ–¹æ³•`ï¼Œæ¯”å¦‚ï¼šservice(HttpServletRequest req, HttpServletResponse resp),doPost(),doGet().

```text
- è·å–è¯·æ±‚è¡Œæ•°æ®  

req.getHeader("é”®å")ï¼›//è¿”å›æŒ‡å®šçš„è¯·æ±‚å¤´ä¿¡æ¯  
req.getHeaderNames("é”®å")ï¼›//è¿”å›è¯·æ±‚å¤´çš„é”®åçš„æšä¸¾ç±»å‹

- è·å–ç”¨æˆ·æ•°æ®

req.getParameter("é”®å")ï¼›//è¿”å›æŒ‡å®šç”¨æˆ·æ•°æ®  
req.getParameterValues("é”®å")ï¼›//ç”¨äºä¸€é”®å¤šå€¼ï¼Œæ¯”å¦‚çˆ±å¥½ï¼Œè¿”å›å€¼çš„æ•°ç»„  
req.getParameterNames("é”®å")ï¼›//è¿”å›æ‰€æœ‰ç”¨æˆ·è¯·æ±‚æ•°æ®çš„æšä¸¾é›†åˆ

- æ³¨æ„ï¼š

ä½¿ç”¨getPaperrameterNames(),å¦‚æœè·å–çš„å€¼ä¸ºç©ºï¼Œè¦è¿›ä¸€æ­¥æ‰“å°å€¼åˆ™ä¼šå‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚  
å¦‚æœè·å–çš„è¯·æ±‚æ•°æ®ä¸å­˜åœ¨ï¼Œä¸ä¼šæŠ¥é”™ï¼Œè¿”å›null.
```

ä»£ç ä¸ºï¼š

```java
@Override
    protected void service(HttpServletRequest req, HttpServletResponse resp)
        throws ServletException, IOException {
        //è·å–è¯·æ±‚å¯¹è±¡çš„â€œè¯·æ±‚è¡Œæ•°æ®â€
        System.out.println("\nconsole-è¯·æ±‚è¡Œ : " + "\n" +
                req.getMethod() + '\n' +
                req.getSession() + '\n' +
                req.getRequestURL() + '\n' +
                req.getProtocol() + '\n' +
                req.getScheme());
        //è·å–è¯·æ±‚å¯¹è±¡çš„â€œé¦–éƒ¨è¡Œæ•°æ®â€
        System.out.println("\nconsole-é¦–éƒ¨è¡Œï¼š");
        Enumeration e = req.getHeaderNames();
        while (e.hasMoreElements()) {
            System.out.println(e.nextElement() + ":" + req.getHeader((String) e.nextElement()));
        }
        //è·å–ç”¨æˆ·æ•°æ®
        System.out.println("\nconsole-ç”¨æˆ·æ•°æ®ï¼š" + "\n");
        Enumeration userDataEnum = req.getParameterNames();
//        while (userDataEnum.hasMoreElements()) {
//            System.out.println(userDataEnum.nextElement() + ":" +
//               req.getParameter((String) userDataEnum.nextElement()) + "\n");
//        }
        System.out.println("\nconsole-ä¸€é”®å¤šå€¼");
        String [] favs = req.getParameterValues("fav");
        if (favs != null) {
            for (String fav : favs) {
                System.out.println(fav + "  ");
            }
        }
    }
```

å¯èƒ½çš„ç»“æœä¸ºï¼š

```text
console-è¯·æ±‚è¡Œ :  
POST
org.apache.catalina.session.StandardSessionFacade@6fded2cb
http://localhost:8080/01FirstServlet_war_exploded/req
HTTP/1.1
http

console-é¦–éƒ¨è¡Œï¼š
host:keep-alive
content-length:max-age=0
origin:1
content-type:Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.117 Safari/537.36
sec-fetch-user:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
sec-fetch-site:navigate
referer:gzip, deflate, br
accept-language:JSESSIONID=32A0407647C96C1AA055F917C8B7351D; Idea-9613d063=2f1bd8dc-702d-4084-b2a4-0eb2b3dcc5ad

console-ç”¨æˆ·æ•°æ®ï¼š


console-ä¸€é”®å¤šå€¼
1  
2  
3  
```

### 3.8 Responseå¯¹è±¡

æœåŠ¡å™¨ç”¨Responseå¯¹è±¡å­˜å‚¨â€œè¦å‘ç»™æµè§ˆå™¨çš„æ•°æ®â€ã€‚

æœåŠ¡å™¨åœ¨è°ƒç”¨æŒ‡å®šçš„Servlet è¿›è¡Œè¯·æ±‚å¤„ç†çš„æ—¶å€™ï¼Œä¼šç»™Servlet çš„æ–¹æ³•ä¼ é€’ä¸¤ä¸ªå®å‚request å’Œresponseã€‚å…¶ä¸­request ä¸­å°å­˜äº†è¯·æ±‚ç›¸å…³çš„è¯·æ±‚æ•°æ®ï¼Œè€Œresponse åˆ™æ˜¯ç”¨æ¥è¿›è¡Œå“åº”çš„ä¸€ä¸ªå¯¹è±¡ã€‚

```text
response
ä½œç”¨ï¼šç”¨æ¥å“åº”æ•°æ®åˆ°æµè§ˆå™¨çš„ä¸€ä¸ªå¯¹è±¡
ä½¿ç”¨ï¼š

	è®¾ç½®å“åº”å¤´
	setHeader(String name,String value);åœ¨å“åº”å¤´ä¸­æ·»åŠ å“åº”ä¿¡æ¯ï¼Œä½†æ˜¯åŒé”®ä¼šè¦†ç›–
	setHeader(String name,String value);åœ¨å“åº”å¤´ä¸­æ·»åŠ ä¿¡æ¯ï¼Œä½†æ˜¯ä¸ä¼šè¦†ç›–ï¼Œå¯ä»¥å­˜åœ¨ä¸€å€¼å¤šé”®

	è®¾ç½®å“åº”çŠ¶æ€
	setError(int num,String msg);//è‡ªå®šä¹‰å“åº”çŠ¶æ€ç 

	è®¾ç½®å“åº”å®ä½“
	resp.getWriter().write(String str);//å“åº”å…·ä½“çš„æ•°æ®ç»™æµè§ˆå™¨ã€getWriter()æµã€‘

	è®¾ç½®å“åº”ç¼–ç æ ¼å¼ï¼š
	resp.setContentType("text/html;charset=utf-8");
```

```java
@Override
    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        //è®¾ç½®å“åº”å¤´
        resp.setHeader("mouse","ç½—æŠ€");
        resp.setHeader("mouse","bazalias");
        resp.addHeader("key","thinkpad");
        resp.addHeader("key","æ¨±æ¡ƒ");
        //è®¾ç½®å“åº”ç¼–ç æ ¼å¼
        resp.setContentType("text/html;charset=utf-8");
        //resp.setContentType("text/xml;charset=utf-8");
        //è®¾ç½®å“åº”çŠ¶æ€ç 
//        resp.sendError(404,"æ¥åˆ°çŸ¥è¯†çš„è’åŸ");
        //è®¾ç½®å“åº”å®ä½“
        resp.getWriter().write("<H3>ä»Šå¤©å¤©æ°”çœŸå¥½</H3>");
    }
```

### 3.9 è¯·æ±‚ã€å“åº”ä¹±ç è§£å†³æ–¹æ³•

ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿä¹±ç å‘¢ï¼Ÿ

å½“æµè§ˆå™¨å’ŒæœåŠ¡å™¨å»ºç«‹è¿æ¥åï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´æ˜¯é€šè¿‡å­—èŠ‚æµã€äºŒè¿›åˆ¶ã€‘çš„å½¢å¼è¿›è¡Œæ•°æ®ä¼ è¾“çš„ï¼Œè€Œæµè§ˆå™¨ç¼–ç æ ¼å¼æ˜¯`utf-8`,å½“å®ƒè½¬æ¢ç¨‹äºŒè¿›åˆ¶å­—èŠ‚æµåœ¨ç½‘ç»œä¸­ä¼ è¾“ï¼Œåˆ°äº†æœåŠ¡å™¨å´ä»¥`iso8859-1`çš„æ ¼å¼è¿›è¡Œè§£æï¼Œè¿™æ ·å­è‚¯å®šå°±è§£æä¸æˆåŠŸï¼Œå‡ºç°ä¹±ç ã€ä¹±ç é’ˆå¯¹ä¸­æ–‡ã€‘ã€‚

é‚£æ€ä¹ˆè§£å†³å‘¢?

- æµè§ˆå™¨åˆ°æœåŠ¡å™¨ç¼–ç æ ¼å¼é—®é¢˜

æ–¹æ³•ä¸€ï¼šå¯ä»¥å°†è·å¾—çš„æ•°æ®è½¬æ¢æˆå­—èŠ‚æµï¼Œå†ä»¥`utf-8`æ ¼å¼è¿›è¡Œè§£æã€‚

```java
    uname = new String(uname.getBytes("iso8859-1"),"utf-8");
```

è¿™ä¸ªæ–¹æ³•ï¼Œæ— è®ºæ˜¯getï¼Œè¿˜æ˜¯postï¼Œè‚¯å®šå¯ä»¥è½¬åŒ–æˆä¸ä¹±ç çš„æ ¼å¼ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯ï¼Œæ¯ä¸€ä¸ªå±æ€§éƒ½è¦è¿›è¡Œè½¬æ¢ï¼Œå¾ˆéº»çƒ¦ã€‚

æ–¹æ³•äºŒï¼šæ•´ä½“ä¿®æ”¹ç¼–ç æ ¼å¼ã€‚

ä½†æ˜¯æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼Œå› ä¸ºgetï¼Œpostæ•°æ®é”®å€¼å¯¹å†™çš„æ–¹å¼ä¸ä¸€æ ·ï¼Œgetæ˜¯å†™åœ¨urlåé¢ï¼Œpostæ˜¯å†™åœ¨å®ä½“ä¸»ä½“åé¢ï¼Œæ‰€ä»¥æ‰¹é‡ä¿®æ”¹éœ€è¦åŒºåˆ†getå’Œpostã€‚

é¦–å…ˆè®²ä¸€ä¸‹postï¼Œpostå°†æ•°æ®é”®å€¼å¯¹å†™åœ¨å®ä½“ä¸»ä½“ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢è¿™ç§æ–¹å¼è§£å†³ç¼–ç æ ¼å¼é—®é¢˜ï¼š

```java
    req.setCharacterEncoding("utf-8");
```

getæ•´ä½“ä¿®æ”¹æ–¹æ³•ä¸ºï¼š

```java
    req.setCharacterEncoding("utf-8");
```

é™¤äº†è¿™ä¸ªï¼Œè¿˜éœ€è¦tomcatæœåŠ¡å™¨ç›®å½•ä¸‹é¢çš„confæ–‡ä»¶ä¸‹æ‰¾åˆ°server.xmlæ–‡ä»¶ï¼Œæ‰“å¼€è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š

![server.xmlé…ç½®.jpg](../../_img/server.xmlé…ç½®.jpg)

- æœåŠ¡å™¨åˆ°æµè§ˆå™¨çš„ç¼–ç æ ¼å¼é—®é¢˜

```java
    resp.setContentType("text/html;charset=utf-8");
```

### 3.10 æµç¨‹æ€»ç»“

Servlet çš„ä½¿ç”¨æµç¨‹:  

1. è®¾ç½®è¯·æ±‚ç¼–ç æ ¼å¼  
1. è®¾ç½®å“åº”ç¼–ç æ ¼å¼  
1. è·å–è¯·æ±‚ä¿¡æ¯  
1. å¤„ç†è¯·æ±‚ä¿¡æ¯  
1. å“åº”å¤„ç†ç»“æœ  

æ•°æ®æµè½¬æµç¨‹:

æµè§ˆå™¨------>æœåŠ¡å™¨------->æ•°æ®åº“  
æµè§ˆå™¨<------æœåŠ¡å™¨<-------æ•°æ®åº“

### 3.11 è¯·æ±‚è½¬å‘

ä½†ä¸€ä¸ªservlet Açš„éœ€è¦å¦ä¸€ä¸ªservlet BååŠ©å¤„ç†æ•°æ®çš„æ—¶å€™ï¼ŒAè¯¥æ€ä¹ˆä½¿ç”¨å¦ä¸€ä¸ªservlet B å‘¢ï¼Ÿ

è¿™é‡Œå¯ä»¥ä½¿ç”¨è¯·æ±‚è½¬å‘ã€è¯·æ±‚è½¬å‘å¾ˆå°±`å‡½æ•°è°ƒç”¨`ã€‘

```java
req.getRequestDispatcher("index.jsp").forward(req,resp);
```

è¯·æ±‚è½¬å‘çš„ç‰¹ç‚¹ä¸ºï¼š

1. åœ°å€æ çš„ä¿¡æ¯ä¸å˜ï¼Œservlet B å¯ä»¥ä½¿ç”¨servlet Açš„Requestå¯¹è±¡çš„æ•°æ®
2. è¯·æ±‚åªæœ‰ä¸€ä¸ª

### 3.12 Requestå¯¹è±¡ä½œç”¨åŸŸ

è¯·æ±‚è½¬å‘éœ€è¦æ³¨æ„ä»¥ä¸‹Requestçš„ä½œç”¨åŸŸã€‚å› ä¸ºè¯·æ±‚è½¬å‘ï¼Œå¯ä»¥ä½¿servlet B å…±äº«Servlet A çš„æ•°æ®ã€‚

åŒæ—¶ï¼ŒServletå¯ä»¥å¯¹Requestå¯¹è±¡çš„æ•°æ®è¿›è¡ŒåŠ å·¥ï¼Œå†äº¤ç»™servlet Bã€åŸç†å’Œå‡½æ•°è°ƒç”¨å·®ä¸å¤šã€‘

```java
request.setAttribute(object name,Object value);
request.getAttribute(Object obj)
```

è§£å†³äº†ä¸€æ¬¡è¯·æ±‚å†…çš„ä¸åŒServlet çš„æ•°æ®(è¯·æ±‚æ•°æ®+å…¶ä»–æ•°æ®)å…±äº«é—®é¢˜ã€‚

ä½œç”¨åŸŸï¼šåŸºäºè¯·æ±‚è½¬å‘ï¼Œä¸€æ¬¡è¯·æ±‚ä¸­çš„æ‰€æœ‰Servlet å…±äº«ã€‚

æ³¨æ„ï¼šä½¿ç”¨Request å¯¹è±¡è¿›è¡Œæ•°æ®æµè½¬ï¼Œæ•°æ®åªåœ¨ä¸€æ¬¡è¯·æ±‚å†…æœ‰æ•ˆã€‚

### 3.13 é‡å®šå‘

å½“ä½ ç™»å½•çš„æ—¶å€™ï¼Œç½‘ç»œä¸æ˜¯å¾ˆå¥½ï¼Œéœ€è¦é‡å¤åˆ·æ–°é¡µé¢çš„æ—¶å€™ï¼Œè¯·æ±‚è½¬å‘æ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿ

æ¯ä¸€æ¬¡éƒ½æ˜¯é‡æ–°æäº¤è¡¨å•çš„æ•°æ®ï¼Œè¿™å…¶å®åœ¨æŸæ–¹é¢æœ‰å¾ˆå¤§å¼Šç«¯ï¼Œæ¯”å¦‚å¢åŠ å¯¹æœåŠ¡å™¨çš„è®¿é—®é‡ï¼Œå¦‚æœæ˜¯ä»˜æ¬¾ï¼Œåˆ™ä¼šä¸æ–­ä»˜æ¬¾ã€‚èƒ½ä¸èƒ½è¯´ï¼Œæäº¤è¡¨å•åï¼Œä¸æ–­åˆ·æ–°å´ä¸ä¼šé‡æ–°æäº¤è¡¨å•å‘¢ï¼Ÿ

å¯ä»¥ä½¿ç”¨é‡å®šå‘ã€‚

```java
resp.sendRedirect("url-partten");
```

ç‰¹ç‚¹ï¼š

1. ä¸¤æ¬¡è¯·æ±‚  
1. æµè§ˆå™¨åœ°å€æ ä¿¡æ¯æ”¹å˜  
1. é¿å…è¡¨å•é‡å¤æäº¤  
